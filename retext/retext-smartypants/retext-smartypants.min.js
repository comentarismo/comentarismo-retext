!function(b,a){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define([],b):(typeof window!=='undefined'?a=window:typeof global!=='undefined'?a=global:typeof self!=='undefined'?a=self:a=this,a.retextSmartypants=b())}(function(){return function a(b,c,e){function f(d,k){if(!c[d]){if(!b[d]){var i=typeof require=='function'&&require;if(!k&&i)return i(d,!0);if(g)return g(d,!0);var j=new Error("Cannot find module '"+d+"'");throw j.code='MODULE_NOT_FOUND',j}var h=c[d]={exports:{}};b[d][0].call(h.exports,function(c){var a=b[d][1][c];return f(a?a:c)},h,h.exports,a,b,c,e)}return c[d].exports}var g=typeof require=='function'&&require;for(var d=0;d<e.length;d++)f(e[d]);return f}({1:[function(u,L,M){'use strict';function K(b){var g=[],d,f,c,e;if(b||(b={}),'quotes'in b){if(d=b.quotes,d!==Boolean(d))throw new TypeError('Illegal invocation: `'+d+'` '+'is not a valid value for `quotes` in '+'`smartypants`')}else d=!0;if('ellipses'in b){if(f=b.ellipses,f!==Boolean(f))throw new TypeError('Illegal invocation: `'+f+'` '+'is not a valid value for `ellipses` in '+'`smartypants`')}else f=!0;if('backticks'in b){if(c=b.backticks,c!==Boolean(c)&&c!=='all')throw new TypeError('Illegal invocation: `'+c+'` '+'is not a valid value for `backticks` in '+'`smartypants`');if(c==='all'&&d===!0)throw new TypeError('Illegal invocation: `backticks: '+c+'` is not a valid value '+'when `quotes: '+d+'` in '+'`smartypants`')}else c=!0;if('dashes'in b){if(e=b.dashes,e!==Boolean(e)&&e!=='oldschool'&&e!=='inverted')throw new TypeError('Illegal invocation: `'+e+'` '+'is not a valid value for `dahes` in '+'`smartypants`')}else e=!0;return d!==!1&&g.push(a.quotes[d]),f!==!1&&g.push(a.ellipses[f]),c!==!1&&g.push(a.backticks[c]),e!==!1&&g.push(a.dashes[e]),J(g)}function J(a){function c(a){v(a,d)}function d(c,g,h){var d=-1;if(c.type===e||c.type===f)while(++d<b)a[d](c,g,h)}var b=a.length;return c}function D(a){a.value===o?a.value=k:a.value===j&&(a.value=r)}function H(a){a.value===j&&(a.value=k)}function G(a){a.value===o?a.value=r:a.value===j&&(a.value=k)}function x(a){a.value===B?a.value=l:a.value===A&&(a.value=m)}function F(a){x(a),a.value===C?a.value=p:a.value===d&&(a.value=q)}function I(d,l,o){var k=d.value,c=o.children,b,h,a,j,i,m;if(z.test(d.value)){d.value=s;return}if(!n.test(k))return;h=[],b=l,i=1;while(--b>0){if(a=c[b],a.type!==g)break;if(m=a,a=c[--b],j=a&&a.type,a&&(j===e||j===f)&&n.test(a.value)){h.push(m,a),i++;continue}break}if(i<3)return;c.splice(l-h.length,h.length),d.value=s}function E(l,p,q){var o=q.children,a=l.value,j,n,k,m;if(a!==h&&a!==d)return;k=o[p-1],j=o[p+1],n=o[p+2],m=j&&w(j),j&&n&&(j.type===e||j.type===f)&&n.type!==i?l.value=b[a]:n&&(m===h||m===d)&&n.type===i?(l.value=c[a],j.value=c[m]):j&&t.test(m)?l.value=b[a]:k&&j&&(k.type===g||k.type===e||k.type===f)&&j.type===i?l.value=c[a]:k&&k.type!==g&&k.type!==f&&k.type!==e?l.value=b[a]:!j||j.type===g||(a===d||a===y)&&m==='s'?l.value=b[a]:l.value=c[a]}var v=u('unist-util-visit'),w=u('nlcst-to-string');L.exports=K;var e='PunctuationNode',f='SymbolNode',i='WordNode',g='WhiteSpaceNode',t=/^\d\ds$/,z=/^\.{3,}$/,n=/^\.+$/,o='---',j='--',k='—',r='–',s='…',B='``',C='`',A="''",d="'",y='’',h='"',l='“',m='”',p='‘',q='’',b={},c={};c[h]=l,b[h]=m,c[d]=p,b[d]=q;var a={};a.dashes={true:H,oldschool:D,inverted:G},a.backticks={true:x,all:F},a.ellipses={true:I},a.quotes={true:E}},{'nlcst-to-string':2,'unist-util-visit':3}],2:[function(c,b,d){'use strict';function a(b,g){var e=g||'',f,c,d;if(!(b&&('length'in b||b.type)))throw new Error('Expected node, not `'+b+'`');if(typeof b.value==='string')return b.value;if(d='length'in b?b:b.children,c=d.length,c===1&&'value'in d[0])return d[0].value;f=[];while(c--)f[c]=a(d[c],e);return f.join(e)}b.exports=a},{}],3:[function(c,a,d){'use strict';function b(e,a,b,c){function d(c,d,g){var e;return d=d||(g?0:null),(!a||c.type===a)&&(e=b(c,d,g||null)),c.children&&e!==!1?f(c.children,c):e}function f(h,i){var b=c?-1:1,e=h.length,f=-1,a=(c?e:f)+b,g;while(a>f&&a<e){if(g=h[a],g&&d(g,a,i)===!1)return!1;a+=b}return!0}typeof a==='function'&&(c=b,b=a,a=null),d(e)}a.exports=b},{}]},{},[1])(1)})
